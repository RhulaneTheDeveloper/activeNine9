<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#16A34A" />
    <meta name="description" content="Connecting township businesses to the digital economy in Gauteng" />
    <link rel="manifest" href="/manifest.json" />
    <title>Township Connect - Gauteng Business Network</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script>
      // PWA install prompt
      let deferredPrompt;
      
      window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;
        
        const installPrompt = document.getElementById('install-prompt');
        const installButton = document.getElementById('install-button');
        
        if (installPrompt && installButton) {
          installPrompt.classList.remove('hidden');
          
          installButton.addEventListener('click', async () => {
            if (deferredPrompt) {
              deferredPrompt.prompt();
              const { outcome } = await deferredPrompt.userChoice;
              
              if (outcome === 'accepted') {
                installPrompt.classList.add('hidden');
              }
              
              deferredPrompt = null;
            }
          });
        }
      });
    </script>
  </body>
</html>